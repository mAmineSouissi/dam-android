# Shadow Guard (dam-android)

This repository contains the Android client for Shadow Guard — a mobile app component of the ProjectDAM suite. The app implements the UI, navigation and API integration for Shadow Guard features. A short product/requirements brief is included as `shadowGuard.pdf` in the repository root.

**What `shadowGuard.pdf` contains:**

- **Purpose:** high-level description of the Shadow Guard app and its security-focused features.
- **Features:** planned screens, flows, and user interactions referenced by the app source under `app/src/main/java/tn/esprit/dam_android`.
- **Integration notes:** backend API contracts and any special configuration required (check `app/src/main/java/tn/esprit/dam_android/api`).

## Requirements

- JDK 11+ (or the project-specified JDK in `gradle.properties`)
- Android SDK (API levels configured in `build.gradle.kts`)
- Android Studio or command-line Gradle

## Quick setup

1. Clone repository
2. Create `local.properties` with `sdk.dir` if needed (Android Studio usually sets this).
3. If the app integrates external services, add any required service config files locally (do NOT commit these):
   - `google-services.json` (Firebase) — keep a `google-services.json.example` if needed
   - Any `.env` or keystore files should be kept out of VCS and referenced via CI/secure storage

## Opening the project (use Android Studio)

This project uses Jetpack Compose for the UI. When your colleagues clone the repository, prefer opening the project in Android Studio (latest stable) — command-line usage is optional but not required for day-to-day development.

Steps to open and run in Android Studio:

1. Open Android Studio and choose `Open` -> select this repository's root folder.
2. Allow Gradle to sync and download dependencies. If prompted, use the recommended Gradle and Android plugin versions.
3. Create or verify `local.properties` points to your Android SDK (`sdk.dir`). Android Studio usually creates this automatically.
4. Select a connected device or emulator from the device picker.
5. Click the Run (▶) button to install and run the app.

Compose-specific notes:

- The project uses Jetpack Compose for UI. Use Android Studio's Compose tooling (Previews, Layout Inspector, Compose Test tooling) to speed up UI development.
- If you see Compose or Kotlin version mismatches, check `build.gradle.kts` for the Kotlin and Compose compiler versions and use Android Studio's suggested updates.

## Command-line (optional)

If you prefer the command-line, the following Gradle tasks are available:

```bash
# Build debug APK
./gradlew assembleDebug

# Install to connected device
./gradlew installDebug

# Run unit tests
./gradlew test

# Run instrumentation tests (on connected device/emulator)
./gradlew connectedAndroidTest
```

## Project structure highlights

- `app/src/main/java/tn/esprit/dam_android` — application package with `MainActivity` and Compose screens (navigation, UI components, and feature modules).
- `app/src/main/java/tn/esprit/dam_android/api` — Retrofit client and token manager for backend communication.
- `app/src/main/res` — resources, themes and drawables used by the app.

## Security & secrets

- Do NOT commit keystore files or service config files. They are already ignored by `.gitignore` (`*.jks`, `*.keystore`, `google-services.json`).
- Use environment variables or a CI secrets store for API keys and signing keys.

## CI suggestions

- Add a GitHub Actions workflow to build and run tests on PRs (e.g., `.github/workflows/android.yml`).
- Store signing keys in the CI provider's secret store and perform release steps only on protected branches.

## Notes specific to Shadow Guard

- Read `shadowGuard.pdf` for the product brief and API integration notes. Keep product/requirements in sync with the implementation in `app/src`.
- Verify any endpoints mentioned in the PDF match the Retrofit interfaces in `app/src/main/java/tn/esprit/dam_android/models/*/services`.

### Short summary

A concise summary is available in `shadowGuard.md`. In short: Shadow Guard is a Jetpack Compose Android client for asset protection and monitoring. It provides secure user authentication (login/OTP/signup), a Home dashboard, Scans and Alerts screens, and Settings. Backend integration uses Retrofit and token-based authentication — see `app/src/main/java/tn/esprit/dam_android/api`.

## Contributing

- Consider adding `CONTRIBUTING.md` and `CHANGELOG.md` for collaborative development.

---

If you want, I can also:

- create a `shadowGuard.pdf.example` summary file extracted from the PDF,
- add a CI workflow template to `.github/workflows`, or
- scan `AndroidManifest.xml` and `build.gradle.kts` for Android 12 `android:exported` issues.

Generated by project assistant — update as needed.
